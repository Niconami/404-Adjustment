(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{oF1q:function(t,e){"use strict";e.a={controlsContainer:"controlsContainer__Aq-p9",layerControl:"layerControl__3+S8c",description:"description__jhJO7",divider:"divider__FJJ76"}},"thC+":function(t,e,n){"use strict";n.r(e),function(t){function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n("hosL"),o=n("oF1q");class h extends i.Component{constructor(t){super(t),this.state={nextID:0,controlsList:[],controlStates:{}},this.addNewControl(!1)}render({passthroughRef:t},{controlsList:e}){return Object(i.h)("span",{class:o.a.controlsContainer},"Background colour: ",Object(i.h)("input",{ref:t,type:"color"}),e,Object(i.h)("button",{onClick:()=>this.addNewControl(!0)},"Add new layer (on top)"))}sendState(t,e){this.setState((n=>(n.controlStates[e]=t,n)),(()=>{this.props.renderCanvas(this.state.controlStates)}))}removeControl(t){const e=this.state.controlsList.filter((e=>e.props.id!==t));let n=this.state.controlStates;delete n[t],this.setState({controlsList:e,controlStates:n},(()=>{this.props.renderCanvas(this.state.controlStates)}))}addNewControl(t){const e=Object(i.h)(c,{key:this.state.nextID,id:this.state.nextID,parent:this,noDelete:!t});this.setState((t=>({nextID:t.nextID+1,controlsList:[...t.controlsList,e]})))}}class c extends i.Component{constructor(t){super(t),s(this,"valueUpdate",{innerTransparent:t=>this.setState({innerTransparent:t.target.checked})}),s(this,"changeValue",(t=>e=>{this.setState({[t]:e.target.value})})),s(this,"changeSize",(t=>e=>{const n=a(a({},this.state.size),{},{[t]:e.target.value});this.setState({size:n})})),this.state={baseColor:"#000000",shadow:"#000000",innerTransparent:!1,amount:5,size:{mode:"0",value:100,offset:0}}}removeSelf(){this.props.parent.removeControl(this.props.id)}render({parent:t,id:e,noDelete:n},r){let a;return t.sendState(r,e),n||(a=Object(i.h)("button",{onClick:()=>{this.removeSelf()}},"Delete")),Object(i.h)("span",{class:o.a.layerControl},Object(i.h)("input",{onChange:this.changeValue("baseColor"),type:"color"}),Object(i.h)("input",{onChange:this.changeValue("shadow"),type:"color"}),Object(i.h)("input",{onChange:this.valueUpdate.innerTransparent,disabled:!0,type:"checkbox"}),Object(i.h)("input",{onChange:this.changeValue("amount"),type:"range",min:"1",max:"10",value:r.amount,step:"1"}),Object(i.h)("select",{onChange:this.changeSize("mode")},Object(i.h)("option",{value:"0",selected:!0},"Absolute"),Object(i.h)("option",{value:"1"},"Range"),Object(i.h)("option",{value:"2"},"Cluster")),Object(i.h)("input",{onChange:this.changeSize("value"),type:"number"}),Object(i.h)("input",{onChange:this.changeSize("offset"),type:"number",disabled:0==r.size.mode}),a)}}e.default=class extends i.Component{constructor(t){super(t),s(this,"sizeChanger",(t=>e=>{this.setState({[t]:+e.target.value})})),s(this,"renderHelper",{layers:{},drawCircle:(t,e,n,r)=>{t.arc(e,n,r,0,2*Math.PI)},randX:t=>Math.floor(Math.random()*(this.state.width+t+1))-t,randY:t=>Math.floor(Math.random()*(this.state.height+t+1))-t,getRadius:(t,e,n)=>{switch(t){case"0":return e;case"1":{let t=Math.min(e,n),r=Math.max(e,n);return t+Math.floor(Math.random()*(r-t))}case"2":{const t=Math.floor(Math.random()*(n+1));return Math.random()>.5?e+t:e-t}}}}),this.renderCanvas=this.renderCanvas.bind(this),this.background=Object(i.createRef)(),this.canvas=Object(i.createRef)(),this.state={width:screen.width,height:screen.height}}render(e,n){return Object(i.h)(t,null,Object(i.h)("p",{class:o.a.description},'(BETA: It is guaranteed that issues are present.) This tool can create backgrounds (wallpapers) easily by adding layers, customising them until you are happy with how it looks, then finally right clicking and selecting "Save As".'),Object(i.h)(h,{renderCanvas:this.renderCanvas,canvasRef:this.canvas,passthroughRef:this.background}),"Set output size: ",Object(i.h)("br",null),"x: ",Object(i.h)("input",{onChange:this.sizeChanger("width"),type:"number"}),Object(i.h)("br",null),"y: ",Object(i.h)("input",{onChange:this.sizeChanger("height"),type:"number"}),Object(i.h)("span",{class:o.a.divider,style:`width: ${n.width}px`}),Object(i.h)("canvas",{ref:this.canvas}))}renderCanvas(t){var e,n;const r=null===(e=this.canvas.current)||void 0===e?void 0:e.getContext("2d");if(r){r.canvas.width=this.state.width,r.canvas.height=this.state.height,r.clearRect(0,0,r.canvas.width,r.canvas.height);for(const e in t)this.renderHelper.layers[e]=this.drawLayer(t[e]);for(const t in this.renderHelper.layers)r.drawImage(this.renderHelper.layers[t],0,0);r.globalCompositeOperation="destination-over",r.fillStyle=null===(n=this.background.current)||void 0===n?void 0:n.value,r.beginPath(),r.fillRect(0,0,r.canvas.width,r.canvas.height),r.fill()}}drawLayer(t){const e=this.renderHelper,n=document.createElement("canvas");n.width=this.state.width,n.height=this.state.height;const r=n.getContext("2d"),a=[],s=()=>{const t=document.createElement("canvas");return t.height=this.state.height,t.width=this.state.width,t};return r.fillStyle=t.baseColor,t.innerTransparent&&(r.fillRect(0,0,r.canvas.width,r.canvas.height),r.globalCompositeOperation="destination-out"),function(){const n=[];for(let r=0;r<t.amount;r++){let i,o,h,c=0;do{if(i=e.getRadius(t.size.mode,t.size.value,t.size.offset),o=e.randX(i),h=e.randY(i),c++,c>100)break}while(n.some((t=>Math.sqrt((t.x-o)**2+(t.y-h)**2)<t.radius+i)));if(c<=100){a[r]=s();let c=a[r].getContext("2d");if(c.beginPath(),e.drawCircle(c,o,h,i),c.fill(),!t.innerTransparent){let e=3/4;c.globalCompositeOperation="source-in";let n=c.createRadialGradient(o,h,i*e,o,h,i*e*2);n.addColorStop(0,t.baseColor),n.addColorStop(1,t.shadow),c.fillStyle=n,c.fillRect(0,0,c.canvas.width,c.canvas.height)}n.push({x:o,y:h,radius:i})}}for(const t in a){r.drawImage(a[t],0,0)}}(),n}}}.call(this,n("hosL").Fragment)}}]);